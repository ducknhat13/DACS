# QuickPoll - á»¨ng Dá»¥ng Táº¡o Kháº£o SÃ¡t Nhanh

<p align="center">
    <div style="font-family: 'Product Sans', sans-serif; font-size: 48px; font-weight: bold; text-align: center; margin: 20px 0;">
        <span style="color: #2563eb;">Q</span><span style="color: #2563eb;">u</span><span style="color: #2563eb;">i</span><span style="color: #2563eb;">c</span><span style="color: #2563eb;">k</span><span style="color: #ef4444;">P</span><span style="color: #eab308;">o</span><span style="color: #3b82f6;">l</span><span style="color: #22c55e;">l</span>
    </div>
</p>

## ğŸ“ MÃ´ Táº£

QuickPoll lÃ  má»™t á»©ng dá»¥ng web Ä‘Æ°á»£c xÃ¢y dá»±ng báº±ng Laravel cho phÃ©p ngÆ°á»i dÃ¹ng táº¡o vÃ  quáº£n lÃ½ cÃ¡c cuá»™c kháº£o sÃ¡t trá»±c tuyáº¿n má»™t cÃ¡ch nhanh chÃ³ng vÃ  dá»… dÃ ng. á»¨ng dá»¥ng há»— trá»£ nhiá»u loáº¡i cÃ¢u há»i khÃ¡c nhau, báº£o máº­t cao vÃ  giao diá»‡n thÃ¢n thiá»‡n theo Material Design 3.

## âœ¨ TÃ­nh NÄƒng ChÃ­nh

### ğŸ” XÃ¡c Thá»±c & Báº£o Máº­t
- **ÄÄƒng kÃ½/ÄÄƒng nháº­p**: Há»‡ thá»‘ng xÃ¡c thá»±c hoÃ n chá»‰nh vá»›i Laravel Breeze
- **Báº£o máº­t poll**: Há»— trá»£ poll riÃªng tÆ° vá»›i mÃ£ truy cáº­p
- **Kiá»ƒm soÃ¡t quyá»n truy cáº­p**: Chá»‰ ngÆ°á»i táº¡o má»›i cÃ³ thá»ƒ quáº£n lÃ½ poll cá»§a mÃ¬nh
- **Quick Access**: Truy cáº­p nhanh poll báº±ng slug tá»« header

### ğŸ“Š Táº¡o & Quáº£n LÃ½ Poll
- **Táº¡o poll nhanh**: Giao diá»‡n Material Design thÃ¢n thiá»‡n
- **Nhiá»u loáº¡i cÃ¢u há»i**: 
  - Poll thÃ´ng thÆ°á»ng (single choice)
  - Poll ranking (xáº¿p háº¡ng)
- **TÃ¹y chá»n nÃ¢ng cao**:
  - Cho phÃ©p chá»n nhiá»u Ä‘Ã¡p Ã¡n
  - Tá»± Ä‘á»™ng Ä‘Ã³ng poll theo thá»i gian
  - áº¨n nÃºt chia sáº»
  - Cho phÃ©p bÃ¬nh luáº­n

### ğŸ—³ï¸ Há»‡ Thá»‘ng Vote
- **Vote an toÃ n**: Kiá»ƒm soÃ¡t session Ä‘á»ƒ trÃ¡nh vote nhiá»u láº§n
- **Thu tháº­p thÃ´ng tin**: YÃªu cáº§u tÃªn ngÆ°á»i vote (cho poll riÃªng tÆ°)
- **Káº¿t quáº£ real-time**: Hiá»ƒn thá»‹ káº¿t quáº£ vá»›i biá»ƒu Ä‘á»“ vÃ  thá»‘ng kÃª chi tiáº¿t

### ğŸ“ˆ Quáº£n LÃ½ & PhÃ¢n TÃ­ch
- **Dashboard Material Design**: Tá»•ng quan táº¥t cáº£ poll Ä‘Ã£ táº¡o
- **Lá»c & TÃ¬m kiáº¿m**: TÃ¬m poll theo tÃªn, tráº¡ng thÃ¡i
- **Xuáº¥t dá»¯ liá»‡u**: Export káº¿t quáº£ ra file CSV
- **Thá»‘ng kÃª chi tiáº¿t**: Sá»‘ lÆ°á»£ng vote, bÃ¬nh luáº­n, biá»ƒu Ä‘á»“ trÃ²n

### ğŸŒ Äa NgÃ´n Ngá»¯
- **Há»— trá»£ tiáº¿ng Viá»‡t**: Giao diá»‡n Ä‘áº§y Ä‘á»§ tiáº¿ng Viá»‡t
- **Chuyá»ƒn Ä‘á»•i ngÃ´n ngá»¯**: Dá»… dÃ ng chuyá»ƒn Ä‘á»•i giá»¯a tiáº¿ng Viá»‡t vÃ  tiáº¿ng Anh

## ğŸ› ï¸ CÃ´ng Nghá»‡ Sá»­ Dá»¥ng

### Backend
- **Laravel 12**: Framework PHP hiá»‡n Ä‘áº¡i
- **PHP 8.2+**: PhiÃªn báº£n PHP má»›i nháº¥t
- **TiDB Cloud**: CÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL tÆ°Æ¡ng thÃ­ch
- **Laravel Breeze**: Authentication scaffolding

### Frontend
- **Tailwind CSS 4**: Framework CSS utility-first
- **Material Design 3**: Giao diá»‡n theo chuáº©n Google
- **Alpine.js**: JavaScript framework nháº¹
- **Vite**: Build tool hiá»‡n Ä‘áº¡i
- **Chart.js**: Biá»ƒu Ä‘á»“ tÆ°Æ¡ng tÃ¡c
- **FontAwesome**: Icon library
- **Responsive Design**: TÆ°Æ¡ng thÃ­ch má»i thiáº¿t bá»‹

## ğŸ“‹ YÃªu Cáº§u Há»‡ Thá»‘ng

- **PHP**: >= 8.2
- **Composer**: Äá»ƒ quáº£n lÃ½ dependencies PHP
- **Node.js**: >= 18.x (Ä‘á»ƒ build frontend assets)
- **npm/yarn**: Package manager cho JavaScript
- **XAMPP/WAMP**: MÃ´i trÆ°á»ng phÃ¡t triá»ƒn local
- **TiDB Cloud Account**: Äá»ƒ sá»­ dá»¥ng database cloud

## ğŸš€ HÆ°á»›ng Dáº«n CÃ i Äáº·t

### 1. Clone Repository

```bash
git clone <repository-url>
cd dacs_quickpoll
```

### 2. CÃ i Äáº·t Dependencies

```bash
# CÃ i Ä‘áº·t PHP dependencies
composer install

# CÃ i Ä‘áº·t Node.js dependencies
npm install
```

### 3. Cáº¥u HÃ¬nh MÃ´i TrÆ°á»ng

```bash
# Copy file environment
cp .env.example .env

# Táº¡o application key
php artisan key:generate
```

### 4. Cáº¥u HÃ¬nh Database 

#### 4.2. Cáº¥u HÃ¬nh Environment Variables

Chá»‰nh sá»­a file `.env`:

```env
# Database Configuration
DB_CONNECTION=mysql
DB_HOST=[Host cá»§a TiDB Cloud]
DB_PORT=4000
DB_DATABASE=quickpoll
DB_USERNAME=[User cá»§a TiDB Cloud]
DB_PASSWORD=[Password cá»§a TiDB Cloud]

# SSL Certificate (báº¯t buá»™c cho TiDB Cloud)
MYSQL_ATTR_SSL_CA="C:/xampp/php/certs/cacert.pem"

# Application Settings
APP_NAME=Laravel
APP_ENV=local
APP_KEY= ...
APP_DEBUG=true
APP_URL=http://localhost

APP_LOCALE=en
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_US

APP_MAINTENANCE_DRIVER=file


### 5. CÃ i Äáº·t Chá»©ng Chá»‰ SSL

#### 5.1. Táº£i Certificate
 Táº£i file `cacert.pem` tá»« [Mozilla CA Certificate Store](https://curl.se/ca/cacert.pem)


#### 5.2. CÃ i Äáº·t Certificate
1. Táº¡o thÆ° má»¥c `certs` trong `C:/xampp/php/`
2. Copy file `cacert.pem` vÃ o `C:/xampp/php/certs/cacert.pem`

```bash
# Táº¡o thÆ° má»¥c (náº¿u chÆ°a cÃ³)
mkdir C:/xampp/php/certs

# Copy certificate file
copy cacert.pem C:/xampp/php/certs/cacert.pem
```


**LÆ°u Ã½ quan trá»ng**: pháº£i táº£i file `cacert.pem` vÃ  lÆ°u nÃ³ vÃ o chÃ­nh xÃ¡c cÃ¹ng má»™t Ä‘Æ°á»ng dáº«n `C:/xampp/php/certs/cacert.pem` trÃªn mÃ¡y Ä‘á»ƒ káº¿t ná»‘i Ä‘Æ°á»£c vá»›i TiDB Cloud.

### 6. Cháº¡y Migrations

```bash
# Cháº¡y migrations Ä‘á»ƒ táº¡o báº£ng
php artisan migrate

# Táº¡o dá»¯ liá»‡u máº«u (tÃ¹y chá»n)
php artisan db:seed
```

### 7. Build Frontend Assets

```bash
# Build assets cho production
npm run build

# Hoáº·c cháº¡y development server
npm run dev
```

## ğŸƒâ€â™‚ï¸ Cháº¡y á»¨ng Dá»¥ng

### Development Mode

```bash
# Cháº¡y Laravel development server
php artisan serve

# Cháº¡y Vite development server (terminal khÃ¡c)
npm run dev

# Hoáº·c cháº¡y táº¥t cáº£ cÃ¹ng lÃºc
composer run dev
```

á»¨ng dá»¥ng sáº½ cháº¡y táº¡i: `http://localhost:8000`

### Production Mode

```bash
# Build assets
npm run build

# Cháº¡y server
php artisan serve
```

## ğŸ“– HÆ°á»›ng Dáº«n Sá»­ Dá»¥ng

### 1. ÄÄƒng KÃ½ & ÄÄƒng Nháº­p
- Truy cáº­p trang chá»§ vÃ  click "Register" Ä‘á»ƒ táº¡o tÃ i khoáº£n
- Hoáº·c "Log in" náº¿u Ä‘Ã£ cÃ³ tÃ i khoáº£n

### 2. Táº¡o Poll Má»›i
1. ÄÄƒng nháº­p vÃ o há»‡ thá»‘ng
2. Click nÃºt "Create New Poll" (FAB) hoáº·c tá»« navigation
3. Äiá»n thÃ´ng tin theo Material Design form:
   - **CÃ¢u há»i**: Ná»™i dung cÃ¢u há»i kháº£o sÃ¡t
   - **Loáº¡i poll**: ThÃ´ng thÆ°á»ng hoáº·c Ranking
   - **CÃ¡c lá»±a chá»n**: ThÃªm cÃ¡c phÆ°Æ¡ng Ã¡n tráº£ lá»i
   - **CÃ i Ä‘áº·t nÃ¢ng cao**: Báº£o máº­t, thá»i gian Ä‘Ã³ng, v.v.

### 3. Chia Sáº» & Vote
1. Sau khi táº¡o poll, sá»­ dá»¥ng Quick Access trong header
2. Hoáº·c copy link chia sáº» tá»« trang káº¿t quáº£
3. NgÆ°á»i tham gia truy cáº­p vÃ  vote
4. Xem káº¿t quáº£ real-time vá»›i biá»ƒu Ä‘á»“

### 4. Quáº£n LÃ½ Poll
- **Dashboard**: Xem táº¥t cáº£ poll Ä‘Ã£ táº¡o vá»›i Material Design cards
- **TÃ¬m kiáº¿m**: Lá»c poll theo tÃªn hoáº·c tráº¡ng thÃ¡i
- **Thá»‘ng kÃª**: Xem sá»‘ lÆ°á»£ng vote, bÃ¬nh luáº­n
- **Export**: Xuáº¥t káº¿t quáº£ ra file CSV

## ğŸ”§ Cáº¥u HÃ¬nh NÃ¢ng Cao

### Database Connection vá»›i SSL

Äá»ƒ káº¿t ná»‘i an toÃ n vá»›i TiDB Cloud, Ä‘áº£m báº£o:

1. **SSL Certificate**: File `cacert.pem` Ä‘Æ°á»£c cÃ i Ä‘áº·t Ä‘Ãºng vá»‹ trÃ­
2. **Environment Variables**: Cáº¥u hÃ¬nh Ä‘áº§y Ä‘á»§ trong `.env`
3. **Firewall**: Port 4000 Ä‘Æ°á»£c má»Ÿ cho TiDB Cloud
4. **Network**: Káº¿t ná»‘i internet á»•n Ä‘á»‹nh

### Customization

- **Giao diá»‡n**: Chá»‰nh sá»­a trong `resources/views/`
- **Styling**: Sá»­a Ä‘á»•i `resources/css/app.css` vÃ  Material Design variables
- **Logic**: TÃ¹y chá»‰nh trong `app/Http/Controllers/`
- **Database**: Thay Ä‘á»•i migrations trong `database/migrations/`

## ğŸ§ª Testing

```bash
# Cháº¡y táº¥t cáº£ tests
php artisan test

# Cháº¡y test cá»¥ thá»ƒ
php artisan test --filter=FeatureTest

# Cháº¡y test vá»›i coverage
php artisan test --coverage
```

## ğŸ“ Cáº¥u TrÃºc Project

```
dacs_quickpoll/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ Http/Controllers/     # Controllers (Poll, Vote, Auth, Stats, Contact)
â”‚   â”‚   â”œâ”€â”€ PollController.php    # Quáº£n lÃ½ Poll: create, store, vote, show, export
â”‚   â”‚   â”œâ”€â”€ VoteController.php    # Xá»­ lÃ½ voting: store, handleRankingVote, handleRegularVote
â”‚   â”‚   â”œâ”€â”€ StatsController.php   # Thá»‘ng kÃª vÃ  History page
â”‚   â”‚   â”œâ”€â”€ ContactController.php # Contact form submission
â”‚   â”‚   â””â”€â”€ ProfileController.php # User profile management
â”‚   â”œâ”€â”€ Models/              # Eloquent Models
â”‚   â”‚   â”œâ”€â”€ Poll.php             # Poll model vá»›i relationships vÃ  helper methods
â”‚   â”‚   â”œâ”€â”€ Vote.php            # Vote model
â”‚   â”‚   â”œâ”€â”€ PollOption.php      # PollOption model
â”‚   â”‚   â””â”€â”€ User.php            # User model vá»›i notification preferences
â”‚   â”œâ”€â”€ Notifications/       # Email Notifications
â”‚   â”‚   â”œâ”€â”€ NewVoteNotification.php          # Email khi cÃ³ vote má»›i
â”‚   â”‚   â””â”€â”€ PollClosingReminderNotification.php # Email nháº¯c nhá»Ÿ trÆ°á»›c khi Ä‘Ã³ng poll
â”‚   â”œâ”€â”€ Mail/                # Mailable Classes
â”‚   â”‚   â””â”€â”€ ContactMail.php  # Email tá»« contact form
â”‚   â”œâ”€â”€ Events/              # Event Classes
â”‚   â”œâ”€â”€ Support/             # Helper Classes
â”‚   â”‚   â””â”€â”€ PollCode.php     # Generate unique poll slugs
â”‚   â””â”€â”€ Http/Middleware/     # Custom Middleware
â”‚       â””â”€â”€ EnsurePollAccess.php # Check access key cho private polls
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ migrations/          # Database Migrations
â”‚   â”œâ”€â”€ factories/           # Model Factories
â”‚   â””â”€â”€ seeders/            # Database Seeders
â”œâ”€â”€ resources/
â”‚   â”œâ”€â”€ views/              # Blade Templates (Material Design)
â”‚   â”‚   â”œâ”€â”€ layouts/        # Layout components (app, guest, navigation, footer)
â”‚   â”‚   â”œâ”€â”€ polls/          # Poll-related views (create, vote, show, name, access)
â”‚   â”‚   â”œâ”€â”€ profile/        # Profile views (edit)
â”‚   â”‚   â”œâ”€â”€ stats/          # Statistics/History page
â”‚   â”‚   â””â”€â”€ components/     # Reusable components
â”‚   â”œâ”€â”€ css/                # Stylesheets (Tailwind + Material Design)
â”‚   â”œâ”€â”€ js/                 # JavaScript (Alpine.js, Chart.js)
â”‚   â””â”€â”€ lang/               # Localization files (en, vi)
â”‚       â”œâ”€â”€ en/messages.php
â”‚       â””â”€â”€ vi/messages.php
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ web.php             # Web Routes (cÃ³ comments chi tiáº¿t)
â”‚   â””â”€â”€ auth.php            # Auth Routes (Laravel Breeze)
â”œâ”€â”€ public/                 # Public Assets
â”‚   â””â”€â”€ Logo.png           # Application Logo
â””â”€â”€ config/                # Configuration Files
```

## ğŸ“ Code Documentation & Comments

Project nÃ y Ä‘Ã£ Ä‘Æ°á»£c **documented Ä‘áº§y Ä‘á»§** vá»›i comments tiáº¿ng Viá»‡t Ä‘á»ƒ báº¡n cÃ³ thá»ƒ hiá»ƒu code dá»… dÃ ng:

### âœ… Controllers (ÄÃ£ comment Ä‘áº§y Ä‘á»§)

Táº¥t cáº£ Controllers Ä‘á»u cÃ³:
- **Header comments**: Giáº£i thÃ­ch chá»©c nÄƒng tá»•ng quan cá»§a Controller
- **Method docblocks**: MÃ´ táº£ tá»«ng method, parameters, return types
- **Inline comments**: Giáº£i thÃ­ch logic phá»©c táº¡p vÃ  business rules

**ÄÃ£ comment:**
- âœ… `PollController`: Quáº£n lÃ½ vÃ²ng Ä‘á»i Poll (create â†’ store â†’ vote â†’ show â†’ export)
- âœ… `VoteController`: Xá»­ lÃ½ voting logic cho 3 loáº¡i poll (standard, ranking, image)
- âœ… `StatsController`: TÃ­nh toÃ¡n thá»‘ng kÃª vÃ  charts data
- âœ… `ContactController`: Xá»­ lÃ½ contact form submission
- âœ… `ProfileController`: User profile management (locale, notifications, delete account)
- âœ… `ImageUploadController`: Upload vÃ  validate media files
- âœ… `GoogleAuthController`: Google OAuth authentication vÃ  account linking

### âœ… Models (ÄÃ£ comment Ä‘áº§y Ä‘á»§)

Models cÃ³:
- **Header comments**: MÃ´ táº£ model, relationships, Ä‘áº·c Ä‘iá»ƒm
- **Method comments**: Giáº£i thÃ­ch cÃ¡c helper methods vÃ  accessors

**ÄÃ£ comment:**
- âœ… `Poll`: Model chÃ­nh vá»›i relationships, helper methods (getParticipantsCountAttribute, getMaxSelections)
- âœ… `User`: Authentication, notification preferences, OAuth support
- âœ… `Vote`: Vote tracking vá»›i voter_identifier vÃ  rank
- âœ… `PollOption`: Options vá»›i image support vÃ  helper methods
- âœ… `Comment`: Comment model vá»›i user tracking

### âœ… Routes (ÄÃ£ comment Ä‘áº§y Ä‘á»§)

File `routes/web.php` cÃ³:
- **Header comment**: Giáº£i thÃ­ch cáº¥u trÃºc routes
- **Inline comments**: NhÃ³m routes theo chá»©c nÄƒng (Public, Auth, Poll, etc.)

### âœ… Notifications & Mail (ÄÃ£ comment Ä‘áº§y Ä‘á»§)

- âœ… `NewVoteNotification`: Email khi cÃ³ vote má»›i
- âœ… `PollClosingReminderNotification`: Email nháº¯c nhá»Ÿ trÆ°á»›c khi Ä‘Ã³ng poll
- âœ… `ContactMail`: Mailable cho contact form emails

### âœ… Middleware & Support (ÄÃ£ comment Ä‘áº§y Ä‘á»§)

- âœ… `EnsurePollAccess`: Kiá»ƒm tra quyá»n truy cáº­p poll (private polls)
- âœ… `SetLocale`: Set application locale cho má»—i request
- âœ… `PollCode`: Helper class Ä‘á»ƒ generate unique poll slugs

### âœ… Migrations (ÄÃ£ comment Ä‘áº§y Ä‘á»§)

CÃ¡c migrations quan trá»ng Ä‘Ã£ cÃ³ comments giáº£i thÃ­ch:
- âœ… `create_polls_table`: Báº£ng polls chÃ­nh
- âœ… `create_poll_options_table`: Báº£ng options
- âœ… `create_votes_table`: Báº£ng votes vá»›i indexes vÃ  constraints
- âœ… `create_comments_table`: Báº£ng comments
- âœ… `add_poll_type_to_polls_table`: ThÃªm poll_type enum
- âœ… `add_rank_to_votes_table`: ThÃªm rank cho ranking polls
- âœ… `add_image_support_to_polls_and_options`: Image poll support
- âœ… `add_notification_preferences_to_users_table`: Notification settings

### âœ… Config Files (ÄÃ£ comment Ä‘áº§y Ä‘á»§)

- âœ… `config/mail.php`: SMTP configuration vá»›i examples
- âœ… `config/app.php`: Application config (social links Ä‘Ã£ cÃ³ comments)

### âœ… JavaScript & CSS (ÄÃ£ comment Ä‘áº§y Ä‘á»§)

- âœ… `resources/js/app.js`: Main entry point vá»›i Alpine.js setup
- âœ… `resources/css/app.css`: Material Design 3 styles vÃ  utilities

### Code Conventions

Khi Ä‘á»c code, báº¡n sáº½ tháº¥y:
- **TÃªn biáº¿n rÃµ rÃ ng**: `$voterIdentifier`, `$hasVoted`, `$isOwner`
- **Comments giáº£i thÃ­ch "táº¡i sao"**: KhÃ´ng chá»‰ "lÃ m gÃ¬" mÃ  cÃ²n giáº£i thÃ­ch logic
- **Docblocks Ä‘áº§y Ä‘á»§**: Parameters vÃ  return types Ä‘Æ°á»£c document
- **Tiáº¿ng Viá»‡t**: Táº¥t cáº£ comments báº±ng tiáº¿ng Viá»‡t Ä‘á»ƒ dá»… hiá»ƒu

### CÃ¡ch Ä‘á»c code cho ngÆ°á»i má»›i

1. **Báº¯t Ä‘áº§u vá»›i Routes** (`routes/web.php`):
   - Xem route nÃ o gá»i controller nÃ o
   - Hiá»ƒu flow: URL â†’ Route â†’ Controller â†’ View

2. **Äá»c Controllers**:
   - Má»—i method xá»­ lÃ½ 1 request cá»¥ thá»ƒ
   - Comments giáº£i thÃ­ch tá»«ng bÆ°á»›c xá»­ lÃ½
   - Header comments mÃ´ táº£ tá»•ng quan

3. **Hiá»ƒu Models**:
   - Relationships giá»¯a cÃ¡c models
   - Helper methods vÃ  accessors
   - Database schema qua migrations

4. **Xem Views**:
   - Blade templates vá»›i localization
   - Material Design 3 components

## ğŸ¨ Material Design Features

- **Color Palette**: Primary #176BEF, Success #179C52, Error #FF3E30
- **Typography**: Product Sans, Montserrat fonts
- **Components**: Cards, Buttons, Inputs, Navigation theo Material Design 3
- **Animations**: Smooth transitions vÃ  hover effects
- **Responsive**: Mobile-first design approach

## ğŸ¤ ÄÃ³ng GÃ³p

1. Fork repository
2. Táº¡o feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to branch (`git push origin feature/AmazingFeature`)
5. Táº¡o Pull Request

## ğŸ“ License

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c phÃ¢n phá»‘i dÆ°á»›i [MIT License](https://opensource.org/licenses/MIT).

## ğŸ‘¥ TÃ¡c Giáº£

- **Nguyen Duc Nhat** - 22010225

## ğŸ™ Acknowledgments

- Laravel Framework
- TiDB Cloud
- Material Design 3
- Tailwind CSS
- Alpine.js
- Chart.js
- Táº¥t cáº£ contributors vÃ  ngÆ°á»i dÃ¹ng

 
